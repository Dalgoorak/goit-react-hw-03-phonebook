{"ast":null,"code":"import _toConsumableArray from\"/Users/macos/Desktop/goit-react-hw-03-phonebook/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/Users/macos/Desktop/goit-react-hw-03-phonebook/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/macos/Desktop/goit-react-hw-03-phonebook/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/macos/Desktop/goit-react-hw-03-phonebook/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/macos/Desktop/goit-react-hw-03-phonebook/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';// import PropTypes from 'prop-types';\nimport ContactForm from'./ContactForm/ContactForm';import{ContactList}from'./ContactList/ContactList';import{Filter}from'./Filter/Filter';import{nanoid}from'nanoid';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={contacts:[{id:'id-1',name:'Rosie Simpson',number:'459-12-56'},{id:'id-2',name:'Hermione Kline',number:'443-89-12'},{id:'id-3',name:'Eden Clements',number:'645-17-79'},{id:'id-4',name:'Annie Copeland',number:'227-91-26'}],filter:''};_this.changeFilter=function(event){_this.setState({filter:event.currentTarget.value});};_this.visibleContacts=function(){var _this$state=_this.state,contacts=_this$state.contacts,filter=_this$state.filter;var normalizedFilter=filter.toLowerCase();return contacts.filter(function(contact){return contact.name.toLowerCase().includes(normalizedFilter);});};_this.addContatcts=function(_ref){var name=_ref.name,number=_ref.number;var contact={id:nanoid(),name:name,number:number};if(_this.state.contacts.some(function(contact){return contact.name===name;})){alert(\"\".concat(name,\" is already in contacts\"));}else{_this.setState(function(prevState){return{contacts:[contact].concat(_toConsumableArray(prevState.contacts))};});}};_this.deleteContacts=function(contactId){_this.setState(function(prevState){return{contacts:prevState.contacts.filter(function(contact){return contact.id!==contactId;})};});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var contacts=localStorage.getItem('contacts');var parseContacts=JSON.parse(contacts);if(parseContacts){this.setState({contacts:parseContacts});}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(this.state.contacts!==prevState.contacts){localStorage.setItem('contacts',JSON.stringify(this.state.contacts));}}},{key:\"render\",value:function render(){var filter=this.state.filter;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Phonebook\"}),/*#__PURE__*/_jsx(ContactForm,{onSubmit:this.addContatcts}),/*#__PURE__*/_jsx(\"h2\",{children:\"Contacts\"}),/*#__PURE__*/_jsx(Filter,{value:filter,onChange:this.changeFilter}),/*#__PURE__*/_jsx(ContactList,{contacts:this.visibleContacts(),onDeleteContact:this.deleteContacts})]});}}]);return App;}(React.Component);export{App as default};","map":{"version":3,"sources":["/Users/macos/Desktop/goit-react-hw-03-phonebook/src/components/App.jsx"],"names":["React","ContactForm","ContactList","Filter","nanoid","App","state","contacts","id","name","number","filter","changeFilter","event","setState","currentTarget","value","visibleContacts","normalizedFilter","toLowerCase","contact","includes","addContatcts","some","alert","prevState","deleteContacts","contactId","localStorage","getItem","parseContacts","JSON","parse","prevProps","setItem","stringify","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n// import PropTypes from 'prop-types';\nimport ContactForm from './ContactForm/ContactForm';\nimport { ContactList } from './ContactList/ContactList';\nimport { Filter } from './Filter/Filter';\n\nimport { nanoid } from 'nanoid';\n\nexport default class App extends React.Component {\n  state = {\n    contacts: [\n      { id: 'id-1', name: 'Rosie Simpson', number: '459-12-56' },\n      { id: 'id-2', name: 'Hermione Kline', number: '443-89-12' },\n      { id: 'id-3', name: 'Eden Clements', number: '645-17-79' },\n      { id: 'id-4', name: 'Annie Copeland', number: '227-91-26' },\n    ],\n    filter: '',\n  };\n\n  componentDidMount() {\n    const contacts = localStorage.getItem('contacts');\n    const parseContacts = JSON.parse(contacts);\n\n    if (parseContacts) {\n      this.setState({ contacts: parseContacts });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.contacts !== prevState.contacts) {\n      localStorage.setItem('contacts', JSON.stringify(this.state.contacts));\n    }\n  }\n\n  changeFilter = event => {\n    this.setState({ filter: event.currentTarget.value });\n  };\n\n  visibleContacts = () => {\n    const { contacts, filter } = this.state;\n    const normalizedFilter = filter.toLowerCase();\n    return contacts.filter(contact =>\n      contact.name.toLowerCase().includes(normalizedFilter)\n    );\n  };\n\n  addContatcts = ({ name, number }) => {\n    const contact = {\n      id: nanoid(),\n      name,\n      number,\n    };\n\n    if (this.state.contacts.some(contact => contact.name === name)) {\n      alert(`${name} is already in contacts`);\n    } else {\n      this.setState(prevState => ({\n        contacts: [contact, ...prevState.contacts],\n      }));\n    }\n  };\n\n  deleteContacts = contactId => {\n    this.setState(prevState => ({\n      contacts: prevState.contacts.filter(contact => contact.id !== contactId),\n    }));\n  };\n\n  render() {\n    const { filter } = this.state;\n    return (\n      <div>\n        <h1>Phonebook</h1>\n        <ContactForm onSubmit={this.addContatcts} />\n        <h2>Contacts</h2>\n        <Filter value={filter} onChange={this.changeFilter} />\n        <ContactList\n          contacts={this.visibleContacts()}\n          onDeleteContact={this.deleteContacts}\n        />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}